#!/usr/bin/env python3
import sys
import subprocess
import os

def show_help():
    print("""
Gemini AI Tools for GitHub CLI ðŸš€

Usage:
  gh gemini <command> [args]

Available Commands:
  branch <issue_id>   Generate a branch name from an issue.
  comment             Generate a commit message from staged changes.
  help                Show this help message.
""")

def main():
    if len(sys.argv) < 2:
        show_help()
        sys.exit(1)

    command = sys.argv[1]
    args = sys.argv[2:]

    # ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®ã‚ã‚‹ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’å–å¾—
    script_dir = os.path.dirname(os.path.realpath(__file__))

    if command == "branch":
        # branch_gen.py ã‚’å®Ÿè¡Œ
        script_path = os.path.join(script_dir, "branch_gen.py")
        subprocess.run([sys.executable, script_path] + args)

    elif command == "comment":
        # comment_gen.py ã‚’å®Ÿè¡Œ
        script_path = os.path.join(script_dir, "comment_gen.py")
        subprocess.run([sys.executable, script_path] + args)

    elif command == "help":
        show_help()

    else:
        print(f"Unknown command: {command}")
        show_help()
        sys.exit(1)

if __name__ == "__main__":
    main()